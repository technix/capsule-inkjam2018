!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(e,r,i){for(var a,u,c=0,s=[];c<e.length;c++)u=e[c],o[u]&&s.push(o[u][0]),o[u]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);for(n&&n(e,r,i);s.length;)s.shift()()};var r={},o={2:0};e.e=function(t){function n(){u.onerror=u.onload=null,clearTimeout(c);var e=o[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),o[t]=void 0)}var r=o[t];if(0===r)return new Promise(function(t){t()});if(r)return r[2];var i=new Promise(function(e,n){r=o[t]=[e,n]});r[2]=i;var a=document.getElementsByTagName("head")[0],u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.async=!0,u.timeout=12e4,e.nc&&u.setAttribute("nonce",e.nc),u.src=e.p+""+({0:"route-game",1:"route-home"}[t]||t)+".chunk."+{0:"6d492",1:"f6f1d"}[t]+".js";var c=setTimeout(n,12e4);return u.onerror=u.onload=n,a.appendChild(u),i},e.m=t,e.c=r,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s="pwNi")}({"/QC5":function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=t.match(o),a={};if(i&&i[1])for(var c=i[1].split("&"),s=0;s<c.length;s++){var f=c[s].split("=");a[decodeURIComponent(f[0])]=decodeURIComponent(f.slice(1).join("="))}t=u(t.replace(o,"")),e=u(e||"");for(var l=Math.max(t.length,e.length),p=0;p<l;p++)if(e[p]&&":"===e[p].charAt(0)){var d=e[p].replace(/(^\:|[+*?]+$)/g,""),h=(e[p].match(/[+*?]+$/)||O)[0]||"",v=~h.indexOf("+"),m=~h.indexOf("*"),g=t[p]||"";if(!g&&!m&&(h.indexOf("?")<0||v)){r=!1;break}if(a[d]=decodeURIComponent(g),v||m){a[d]=t.slice(p).map(decodeURIComponent).join("/");break}}else if(e[p]!==t[p]){r=!1;break}return(!0===n.default||!1!==r)&&a}function i(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function a(t,e){return t.index=e,t.rank=f(t),t.attributes}function u(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function c(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}function s(t){return u(t).map(c).join("")}function f(t){return t.attributes.default?0:s(t.attributes.path)}function l(t){return null!=t.__preactattr_||"undefined"!=typeof Symbol&&null!=t[Symbol.for("preactattr")]}function p(t,e){void 0===e&&(e="push"),C&&C[e]?C[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}function d(){var t;return t=C&&C.location?C.location:C&&C.getCurrentLocation?C.getCurrentLocation():"undefined"!=typeof location?location:k,""+(t.pathname||"")+(t.search||"")}function h(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),v(t)&&p(t,e?"replace":"push"),m(t)}function v(t){for(var e=P.length;e--;)if(P[e].canRoute(t))return!0;return!1}function m(t){for(var e=!1,n=0;n<P.length;n++)!0===P[n].routeTo(t)&&(e=!0);for(var r=S.length;r--;)S[r](t);return e}function g(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return h(e)}}function _(t){if(0==t.button)return g(t.currentTarget||t.target||this),y(t)}function y(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function b(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")&&l(e)){if(e.hasAttribute("native"))return;if(g(e))return y(t)}}while(e=e.parentNode)}}function w(){U||("function"==typeof addEventListener&&(C||addEventListener("popstate",function(){m(d())}),addEventListener("click",b)),U=!0)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"subscribers",function(){return S}),n.d(e,"getCurrentUrl",function(){return d}),n.d(e,"route",function(){return h}),n.d(e,"Router",function(){return L}),n.d(e,"Route",function(){return A}),n.d(e,"Link",function(){return M});var x=n("KM04"),O=(n.n(x),{}),C=null,P=[],S=[],k={},U=!1,L=function(t){function e(e){t.call(this,e),e.history&&(C=e.history),this.state={url:e.url||d()},w()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},e.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},e.prototype.componentWillMount=function(){P.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;C&&(this.unlisten=C.listen(function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))})),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),P.splice(P.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(a).sort(i).map(function(t){var i=o(e,t.attributes.path,t.attributes);if(i){if(!1!==n){var a={url:e,matches:i};return r(a,i),delete a.ref,delete a.key,Object(x.cloneElement)(t,a)}return t}}).filter(Boolean)},e.prototype.render=function(t,e){var n=t.children,r=t.onChange,o=e.url,i=this.getMatchingChildren(n,o,!0),a=i[0]||null;this._didRoute=!!a;var u=this.previousUrl;return o!==u&&(this.previousUrl=o,"function"==typeof r&&r({router:this,url:o,previous:u,active:i,current:a})),a},e}(x.Component),M=function(t){return Object(x.h)("a",r({onClick:_},t))},A=function(t){return Object(x.h)(t.component,t)};L.subscribers=S,L.getCurrentUrl=d,L.route=h,L.Router=L,L.Route=A,L.Link=M,e.default=L},"/Uqj":function(t,e,n){"use strict";e.__esModule=!0;var r=n("/sXU"),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){var t=null,e=function(e){return(0,o.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,i){if(null!=t){var a="function"==typeof t?t(e,n):t;"string"==typeof a?"function"==typeof r?r(a,i):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}}},"/sXU":function(t){"use strict";var e=function(){};t.exports=e},"2GTp":function(){},"2gTp":function(t){"use strict";t.exports=function(t,e,n,r,o,i,a,u){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,u],f=0;c=new Error(e.replace(/%s/g,function(){return s[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}},"3Ix2":function(t){t.exports={uuid:"ua.in.technix.capsule",name:"Capsule",episodes:["assets/game/capsule.ink.json"]}},"4gcd":function(t,e){"use strict";e.__esModule=!0;var n=(e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)});e.stripBasename=function(t,e){return n(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},"7N8r":function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){function e(){var e=this;r.Component.call(this);var n=void 0,o=void 0;this.componentWillMount=function(){n=e.base=e.nextBase||e.__b,t(function(t){e.setState({child:t.default||t})})},this.shouldComponentUpdate=function(t,e){return e=void 0===e.child,o=e&&void 0===o&&n?(0,r.h)(n.nodeName,{dangerouslySetInnerHTML:{__html:n.innerHTML}}):"",!e},this.render=function(t,e){return e.child?(0,r.h)(e.child,t):o}}return(e.prototype=new r.Component).constructor=e,e};var r=n("KM04")},"7YO4":function(t,e){"use strict";function n(t){return"/"===t.charAt(0)}function r(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=t&&t.split("/")||[],i=e&&e.split("/")||[],a=t&&n(t),u=e&&n(e),c=a||u;if(t&&n(t)?i=o:o.length&&(i.pop(),i=i.concat(o)),!i.length)return"/";var s=void 0;if(i.length){var f=i[i.length-1];s="."===f||".."===f||""===f}else s=!1;for(var l=0,p=i.length;p>=0;p--){var d=i[p];"."===d?r(i,p):".."===d?(r(i,p),l++):l&&(r(i,p),l--)}if(!c)for(;l--;l)i.unshift("..");!c||""===i[0]||i[0]&&n(i[0])||i.unshift("");var h=i.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},DOAq:function(){},JkW7:function(t,e,n){"use strict";function r(t){var e=t.offsetHeight,n=t.offsetWidth;t.style.transform="translate(-50%, -50%) scale("+Math.min(window.innerWidth/n,window.innerHeight/e)+")"}function o(t){n.e(1).then(function(){t(n("iOg+"))}.bind(null,n)).catch(n.oe)}function i(t){n.e(0).then(function(){t(n("B8ml"))}.bind(null,n)).catch(n.oe)}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=(n("DOAq"),n("rq4c"),n("NpbK"),n("vO38"),n("2GTp"),n("w3qQ"),n("bdDp")),s=n("3Ix2");c.a.setUUID(n.n(s).a.uuid);var f=n("KM04"),l=n("/QC5"),p=n("nqnI"),d=n.n(p),h=r,v=n("o6ac"),m=n("wYIL"),g=n("7N8r"),_=n.n(g),y=_()(o),b=_()(i),w=Object(f.h)(y,{path:"/"}),x=Object(f.h)(b,{path:"/game"}),O=function(t){function e(){for(var e,n,r,o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=n=a(this,t.call.apply(t,[this].concat(i))),n.onResize=function(){var t=n.appContainer;if(window.innerWidth<480)return t.style.transform="none",void(t.style.transformOrigin="none");h(t)},n.handleRoute=function(t){n.currentUrl=t.url},n.componentDidMount=function(){n.onResize(),window.onresize=n.onResize},r=e,a(n,r)}return u(e,t),e.prototype.render=function(){var t=this;return Object(f.h)(v.Provider,{store:m.b},Object(f.h)("div",{id:"app",ref:function(e){return t.appContainer=e}},Object(f.h)(l.Router,{onChange:this.handleRoute,history:d()()},w,x)))},e}(f.Component);e.default=O},KM04:function(t){!function(){"use strict";function e(t,e){var n,r,o,i,a=A;for(i=arguments.length;i-- >2;)M.push(arguments[i]);for(e&&null!=e.children&&(M.length||M.push(e.children),delete e.children);M.length;)if((r=M.pop())&&void 0!==r.pop)for(i=r.length;i--;)M.push(r[i]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r+="":"string"!=typeof r&&(o=!1)),o&&n?a[a.length-1]+=r:a===A?a=[r]:a.push(r),n=o;var u=new U;return u.nodeName=t,u.children=a,u.attributes=null==e?void 0:e,u.key=null==e?void 0:e.key,void 0!==L.vnode&&L.vnode(u),u}function n(t,e){for(var n in e)t[n]=e[n];return t}function r(t,r){return e(t.nodeName,n(n({},t.attributes),r),arguments.length>2?[].slice.call(arguments,2):t.children)}function o(t){!t.__d&&(t.__d=!0)&&1==T.push(t)&&(L.debounceRendering||E)(i)}function i(){var t,e=T;for(T=[];t=e.pop();)t.__d&&O(t)}function a(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&u(t,e.nodeName):n||t._componentConstructor===e.nodeName}function u(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function c(t){var e=n({},t.attributes);e.children=t.children;var r=t.nodeName.defaultProps;if(void 0!==r)for(var o in r)void 0===e[o]&&(e[o]=r[o]);return e}function s(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.__n=t,n}function f(t){var e=t.parentNode;e&&e.removeChild(t)}function l(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"==typeof r[i]&&!1===N.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,p,a):t.removeEventListener(e,p,a),(t.__l||(t.__l={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var u=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?u?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(u?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function p(t){return this.__l[t.type](L.event&&L.event(t)||t)}function d(){for(var t;t=j.pop();)L.afterMount&&L.afterMount(t),t.componentDidMount&&t.componentDidMount()}function h(t,e,n,r,o,i){R++||(I=null!=o&&void 0!==o.ownerSVGElement,D=null!=t&&!("__preactattr_"in t));var a=v(t,e,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--R||(D=!1,i||d()),a}function v(t,e,n,r,o){var i=t,a=I;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),g(t,!0))),i.__preactattr_=!0,i;var c=e.nodeName;if("function"==typeof c)return C(t,e,n,r);if(I="svg"===c||"foreignObject"!==c&&I,c+="",(!t||!u(t,c))&&(i=s(c,I),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),g(t,!0)}var f=i.firstChild,l=i.__preactattr_,p=e.children;if(null==l){l=i.__preactattr_={};for(var d=i.attributes,h=d.length;h--;)l[d[h].name]=d[h].value}return!D&&p&&1===p.length&&"string"==typeof p[0]&&null!=f&&void 0!==f.splitText&&null==f.nextSibling?f.nodeValue!=p[0]&&(f.nodeValue=p[0]):(p&&p.length||null!=f)&&m(i,p,n,r,D||null!=l.dangerouslySetInnerHTML),y(i,e.attributes,l),I=a,i}function m(t,e,n,r,o){var i,u,c,s,l,p=t.childNodes,d=[],h={},m=0,_=0,y=p.length,b=0,w=e?e.length:0;if(0!==y)for(var x=0;x<y;x++){var O=p[x],C=O.__preactattr_,P=w&&C?O._component?O._component.__k:C.key:null;null!=P?(m++,h[P]=O):(C||(void 0!==O.splitText?!o||O.nodeValue.trim():o))&&(d[b++]=O)}if(0!==w)for(var x=0;x<w;x++){s=e[x],l=null;var P=s.key;if(null!=P)m&&void 0!==h[P]&&(l=h[P],h[P]=void 0,m--);else if(_<b)for(i=_;i<b;i++)if(void 0!==d[i]&&a(u=d[i],s,o)){l=u,d[i]=void 0,i===b-1&&b--,i===_&&_++;break}l=v(l,s,n,r),c=p[x],l&&l!==t&&l!==c&&(null==c?t.appendChild(l):l===c.nextSibling?f(c):t.insertBefore(l,c))}if(m)for(var x in h)void 0!==h[x]&&g(h[x],!1);for(;_<=b;)void 0!==(l=d[b--])&&g(l,!1)}function g(t,e){var n=t._component;n?P(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||f(t),_(t))}function _(t){for(t=t.lastChild;t;){var e=t.previousSibling;g(t,!0),t=e}}function y(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||l(t,r,n[r],n[r]=void 0,I);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||l(t,r,n[r],n[r]=e[r],I)}function b(t,e,n){var r,o=W.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),S.call(r,e,n)):(r=new S(e,n),r.constructor=t,r.render=w);o--;)if(W[o].constructor===t)return r.__b=W[o].__b,W.splice(o,1),r;return r}function w(t,e,n){return this.constructor(t,n)}function x(t,e,n,r,i){t.__x||(t.__x=!0,t.__r=e.ref,t.__k=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.__c||(t.__c=t.context),t.context=r),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===L.syncComponentUpdates&&t.base?o(t):O(t,1,i)),t.__r&&t.__r(t))}function O(t,e,r,o){if(!t.__x){var i,a,u,s=t.props,f=t.state,l=t.context,p=t.__p||s,v=t.__s||f,m=t.__c||l,_=t.base,y=t.__b,w=_||y,C=t._component,S=!1,k=m;if(t.constructor.getDerivedStateFromProps&&(f=n(n({},f),t.constructor.getDerivedStateFromProps(s,f)),t.state=f),_&&(t.props=p,t.state=v,t.context=m,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(s,f,l)?S=!0:t.componentWillUpdate&&t.componentWillUpdate(s,f,l),t.props=s,t.state=f,t.context=l),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!S){i=t.render(s,f,l),t.getChildContext&&(l=n(n({},l),t.getChildContext())),_&&t.getSnapshotBeforeUpdate&&(k=t.getSnapshotBeforeUpdate(p,v));var U,M,A=i&&i.nodeName;if("function"==typeof A){var E=c(i);a=C,a&&a.constructor===A&&E.key==a.__k?x(a,E,1,l,!1):(U=a,t._component=a=b(A,E,l),a.__b=a.__b||y,a.__u=t,x(a,E,0,l,!1),O(a,1,r,!0)),M=a.base}else u=w,U=C,U&&(u=t._component=null),(w||1===e)&&(u&&(u._component=null),M=h(u,i,l,r||!_,w&&w.parentNode,!0));if(w&&M!==w&&a!==C){var N=w.parentNode;N&&M!==N&&(N.replaceChild(M,w),U||(w._component=null,g(w,!1)))}if(U&&P(U),t.base=M,M&&!o){for(var T=t,I=t;I=I.__u;)(T=I).base=M;M._component=T,M._componentConstructor=T.constructor}}for(!_||r?j.unshift(t):S||(t.componentDidUpdate&&t.componentDidUpdate(p,v,k),L.afterUpdate&&L.afterUpdate(t));t.__h.length;)t.__h.pop().call(t);R||o||d()}}function C(t,e,n,r){for(var o=t&&t._component,i=o,a=t,u=o&&t._componentConstructor===e.nodeName,s=u,f=c(e);o&&!s&&(o=o.__u);)s=o.constructor===e.nodeName;return o&&s&&(!r||o._component)?(x(o,f,3,n,r),t=o.base):(i&&!u&&(P(i),t=a=null),o=b(e.nodeName,f,n),t&&!o.__b&&(o.__b=t,a=null),x(o,f,1,n,r),t=o.base,a&&t!==a&&(a._component=null,g(a,!1))),t}function P(t){L.beforeUnmount&&L.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?P(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.__b=e,f(e),W.push(t),_(e)),t.__r&&t.__r(null)}function S(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{},this.__h=[]}function k(t,e,n){return h(n,t,{},!1,e,!1)}var U=function(){},L={},M=[],A=[],E="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,N=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,T=[],j=[],R=0,I=!1,D=!1,W=[];n(S.prototype,{setState:function(t,e){this.__s||(this.__s=this.state),this.state=n(n({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this.__h.push(e),o(this)},forceUpdate:function(t){t&&this.__h.push(t),O(this,2)},render:function(){}});var H={h:e,createElement:e,cloneElement:r,Component:S,render:k,rerender:i,options:L};t.exports=H}()},NpbK:function(){},bdDp:function(t,e){"use strict";var n=window.localStorage;e.a={uuid:"",setUUID:function(t){this.uuid=t},key:function(t){return this.uuid+"/"+t},get:function(t,e){var r=void 0,o=n.getItem(this.key(t));if(e)return o;try{r=JSON.parse(o)}catch(t){r={}}return r},set:function(t,e){n.setItem(this.key(t),JSON.stringify(e))},delete:function(t){n.removeItem(this.key(t))},exists:function(t){return!!t&&!!localStorage.getItem(this.key(t))}}},nqnI:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n("/sXU"),a=r(i),u=n("2gTp"),c=r(u),s=n("vMhP"),f=n("4gcd"),l=n("/Uqj"),p=r(l),d=n("uE+1"),h={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,f.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:f.stripLeadingSlash,decodePath:f.addLeadingSlash},slash:{encodePath:f.addLeadingSlash,decodePath:f.addLeadingSlash}},v=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},m=function(t){return window.location.hash=t},g=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(d.canUseDOM,"Hash history needs a DOM");var e=window.history,n=(0,d.supportsGoWithoutReloadUsingHash)(),r=t.getUserConfirmation,i=void 0===r?d.getConfirmation:r,u=t.hashType,l=void 0===u?"slash":u,_=t.basename?(0,f.stripTrailingSlash)((0,f.addLeadingSlash)(t.basename)):"",y=h[l],b=y.encodePath,w=y.decodePath,x=function(){var t=w(v());return(0,a.default)(!_||(0,f.hasBasename)(t,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+_+'".'),_&&(t=(0,f.stripBasename)(t,_)),(0,s.createLocation)(t)},O=(0,p.default)(),C=function(t){o($,t),$.length=e.length,O.notifyListeners($.location,$.action)},P=!1,S=null,k=function(){var t=v(),e=b(t);if(t!==e)g(e);else{var n=x(),r=$.location;if(!P&&(0,s.locationsAreEqual)(r,n))return;if(S===(0,f.createPath)(n))return;S=null,U(n)}},U=function(t){if(P)P=!1,C();else{O.confirmTransitionTo(t,"POP",i,function(e){e?C({action:"POP",location:t}):L(t)})}},L=function(t){var e=$.location,n=N.lastIndexOf((0,f.createPath)(e));-1===n&&(n=0);var r=N.lastIndexOf((0,f.createPath)(t));-1===r&&(r=0);var o=n-r;o&&(P=!0,I(o))},M=v(),A=b(M);M!==A&&g(A);var E=x(),N=[(0,f.createPath)(E)],T=function(t){return"#"+b(_+(0,f.createPath)(t))},j=function(t,e){(0,a.default)(void 0===e,"Hash history cannot push state; it is ignored");var n=(0,s.createLocation)(t,void 0,void 0,$.location);O.confirmTransitionTo(n,"PUSH",i,function(t){if(t){var e=(0,f.createPath)(n),r=b(_+e);if(v()!==r){S=e,m(r);var o=N.lastIndexOf((0,f.createPath)($.location)),i=N.slice(0,-1===o?0:o+1);i.push(e),N=i,C({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),C()}})},R=function(t,e){(0,a.default)(void 0===e,"Hash history cannot replace state; it is ignored");var n=(0,s.createLocation)(t,void 0,void 0,$.location);O.confirmTransitionTo(n,"REPLACE",i,function(t){if(t){var e=(0,f.createPath)(n),r=b(_+e);v()!==r&&(S=e,g(r));var o=N.indexOf((0,f.createPath)($.location));-1!==o&&(N[o]=e),C({action:"REPLACE",location:n})}})},I=function(t){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},D=function(){return I(-1)},W=function(){return I(1)},H=0,q=function(t){H+=t,1===H?(0,d.addEventListener)(window,"hashchange",k):0===H&&(0,d.removeEventListener)(window,"hashchange",k)},B=!1,K=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=O.setPrompt(t);return B||(q(1),B=!0),function(){return B&&(B=!1,q(-1)),e()}},V=function(t){var e=O.appendListener(t);return q(1),function(){q(-1),e()}},$={length:e.length,action:"POP",location:E,createHref:T,push:j,replace:R,go:I,goBack:D,goForward:W,block:K,listen:V};return $}},o6ac:function(t,e,n){function r(t,e){for(var n in e)t[n]=e[n];return t}function o(t){this.getChildContext=function(){return{store:t.store}}}var i=n("KM04");o.prototype.render=function(t){return t.children[0]},e.connect=function(t,e){var n;return"function"!=typeof t&&("string"==typeof(n=t||[])&&(n=n.split(/\s*,\s*/)),t=function(t){for(var e={},r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}),function(n){function o(o,a){var u=this,c=a.store,s=t(c?c.getState():{},o),f=e?function(t,e){"function"==typeof t&&(t=t(e));var n={};for(var r in t)n[r]=e.action(t[r]);return n}(e,c):{store:c},l=function(){var e=t(c?c.getState():{},u.props);for(var n in e)if(e[n]!==s[n])return s=e,u.setState(null);for(var r in s)if(!(r in e))return s=e,u.setState(null)};this.componentDidMount=function(){l(),c.subscribe(l)},this.componentWillUnmount=function(){c.unsubscribe(l)},this.render=function(t){return i.h(n,r(r(r({},f),t),s))}}return(o.prototype=new i.Component).constructor=o}},e.Provider=o},pwNi:function(t,e,n){"use strict";var r=n("KM04");"serviceWorker"in navigator&&"https:"===location.protocol&&navigator.serviceWorker.register(n.p+"sw.js");var o=function(t){return t&&t.default?t.default:t};if("function"==typeof o(n("JkW7"))){var i=document.body.firstElementChild,a=function(){var t=o(n("JkW7"));i=(0,r.render)((0,r.h)(t),document.body,i)};a()}},rq4c:function(){},"t+Vk":function(t,e){"use strict";function n(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,r){return n(t,e[r])});var o=void 0===t?"undefined":r(t);if(o!==(void 0===e?"undefined":r(e)))return!1;if("object"===o){var i=t.valueOf(),a=e.valueOf();if(i!==t||a!==e)return n(i,a);var u=Object.keys(t);return u.length===Object.keys(e).length&&u.every(function(r){return n(t[r],e[r])})}return!1}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=n},"uE+1":function(t,e){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},vMhP:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n("7YO4"),a=r(i),u=n("t+Vk"),c=r(u),s=n("4gcd");e.createLocation=function(t,e,n,r){var i=void 0;"string"==typeof t?(i=(0,s.parsePath)(t),i.state=e):(i=o({},t),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,a.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,c.default)(t.state,e.state)}},vO38:function(){},w3qQ:function(){},wYIL:function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}var o=n("bdDp");n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var i={sound:!0,volume:20,transcript:!1,debug:!0,hyphens:!1,scene:null,episode:null};o.a.exists("settings")&&(i=o.a.get("settings"),i.scene=null,i.episode=null);var a=function(t){function e(t){for(var e=[],n=0;n<o.length;n++)o[n]===t?t=null:e.push(o[n]);o=e}function n(e,n,i){t=n?e:r(r({},t),e);for(var a=o,u=0;u<a.length;u++)a[u](t,i)}var o=[];return t=t||{},{action:function(e){function r(t){n(t,!1,e)}return function(){for(var n=arguments,o=[t],i=0;i<arguments.length;i++)o.push(n[i]);var a=e.apply(this,o);if(null!=a)return a.then?a.then(r):r(a)}},setState:n,subscribe:function(t){return o.push(t),function(){e(t)}},unsubscribe:e,getState:function(){return t}}}(i);a.subscribe(function(t){o.a.set("settings",t)});var u=function(){return{gameState:function(t,e){return e},setSound:function(t){return{sound:!t.sound}},setVolume:function(t,e){return e.preventDefault(),{volume:e.target.value}},setTranscript:function(t){return{transcript:!t.transcript}},setDebug:function(t){return{debug:!t.debug}},setHyphens:function(t){return{hyphens:!t.hyphens}}}}}});
//# sourceMappingURL=bundle.2ed73.js.map